<% provide(:title, "Custom Fields") %>
<% provide(:icon, "icon-cogs") %>

<div class="container">

<%= simple_form_for @user, :url => registration_path(resource_name), :html => { :class => "form-horizontal uni" }, :defaults => {:required => false} do |f| %>

<%= hidden_field_tag "custom_fields_page" %>

<%= hidden_field_tag "custom_fields_type", "Customer" %>

<div class="row-fluid">
	<div class="span12">
    	
  	<div class="content-box">

	<div class="row-fluid">
		<div class="span12" style="padding-left:10px;padding-right:10px;padding-top:10px;background-color:whitesmoke;border-bottom:1px solid #e8e8e8;">
			<%= render 'users/settings_nav', :active => "Custom Fields" %>
		</div>
	</div>		

  	<div class="row-fluid">
		<%= render 'shared/content_box_help', :message => "This is where you can set the color of appointments on your calendar based on which cleaners or team are assigned to them or what status they have. You can also set which cleaners show up by default in the grid view." %>
	</div>

  	<div class="row-fluid">		
		<div class="span12">
		<div class="padded">
		
		<%= render 'shared/flash_notice' %>		
		
		<h4 class="bottom-bordered"> Customer Fields </h4>
		<div class="info-box">
			<i class="icon-large icon-info-sign blue"></i> This is where you designate custom data entry fields that can be filled out for each customer (drag to reorder)
		</div>
		

		<div id="customer-fields" class="custom-fields">
   	
			<%= f.simple_fields_for :customer_fields, @user.customer_fields do |customer_field_builder| %>
				<%= render 'custom_field_fields', :f => customer_field_builder, :field_type => 'customer' %>
			<% end %>
	
			<div class="links" style="margin-bottom: 10px;">
				<%= link_to_add_association '<i class="icon-plus"></i> Add Field'.html_safe, f, :customer_fields, :partial => "custom_field_fields", 
				:render_options => {:locals => {:field_type => 'customer'}}, :class => "btn btn-info" %>
			</div>
		</div>

	
		<h4 class="bottom-bordered" style="margin-top:30px;"> Employee Fields </h4>
		<div class="info-box">
			<i class="icon-large icon-info-sign blue"></i> This is where you designate custom data entry fields that can be filled out for each employee (drag to reorder)
		</div>
		
	
		<div id="employee-fields" class="custom-fields">
			<%= f.simple_fields_for :employee_fields, @user.employee_fields do |employee_field_builder| %>
				<%= render 'custom_field_fields', :f => employee_field_builder, :field_type => 'employee' %>
			<% end %>
	
			<div class="links" style="margin-bottom: 10px;">
				<%= link_to_add_association '<i class="icon-plus"></i> Add Field'.html_safe, f, :employee_fields, :partial => "custom_field_fields", 
				:render_options => {:locals => {:field_type => 'employee'}}, :class => "btn btn-info" %>
			</div>
		</div>
		
		<h4 class="bottom-bordered" style="margin-top:30px;"> Appointment Fields </h4>
		<div class="info-box">
			<i class="icon-large icon-info-sign blue"></i> This is where you designate custom data entry fields that can be filled out for each appointment (drag to reorder)
    	</div>
		
		<div id="appointment-fields" class="custom-fields">
   	
			<%= f.simple_fields_for :appointment_fields, @user.appointment_fields do |appointment_field_builder| %>
				<%= render 'appointment_field_fields', :f => appointment_field_builder %>
			<% end %>
	
			<div class="links" style="margin-bottom: 10px;">
				<%= link_to_add_association '<i class="icon-plus"></i> Add Field'.html_safe, f, :appointment_fields, :class => "btn btn-info" %>
			</div>
		</div>
		
		
		<h4 class="bottom-bordered" style="margin-top:30px;"> Instructions </h4>		
		<div class="info-box">
			<i class="icon-large icon-info-sign blue"></i> This is where you can specify line-item instructions to be added to each appointment (drag to reorder)
    	</div>
    	
		<div id="instructions-fields" class="custom-fields">	
			<%= f.simple_fields_for :instructions, @user.instructions do |instruction_builder| %>
				<%= render 'instruction_fields', :f => instruction_builder %>
			<% end %>

			<div class="links" style="margin-bottom: 10px;">
				<%= link_to_add_association '<i class="icon-plus"></i> Add Instruction'.html_safe, f, :instructions, :class => "btn btn-info" %>
			</div>
		</div>

		<h4 class="bottom-bordered" style="margin-top:30px;"> Statuses </h4>	
		<div class="info-box">
			<i class="icon-large icon-info-sign blue"></i> This is where you can specify appointment statuses <br>
			<em class="red">This feature is currently under construction. Please email Arun at <%= mail_to "arun@zenmaid.com" %> if you wish to delete or modify the name of a status</em> 
    	</div>

		<div id="status-fields" class="custom-fields">		
			<%= f.simple_fields_for :statuses, @user.statuses do |status_builder| %>
				<%= render 'status_fields', :f => status_builder %>
			<% end %>

			<div class="links" style="margin-bottom: 10px;">
				<%= link_to_add_association '<i class="icon-plus"></i> Add Status'.html_safe, f, :statuses, :class => "btn btn-info" %>
			</div>
		</div>
		
		</div>
		</div>
	</div>


	<div class="row-fluid">
		<div class="span12">
		<div class="padded">
    		<div class="control-group">
     			<div class="controls">
     				<%= f.button :submit, "Save Changes" , :class => "btn btn-green pull-right" %>
        		</div>
     		</div>

		</div>
		</div>
	</div>

	</div>
	</div>
</div>


<% end %>

</div>